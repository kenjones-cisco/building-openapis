
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Kenny Jones">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.10.2">
    
    
      
        <title>API Implementation - Building OpenAPIs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-408828a02a.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../stylesheets/font-awesome.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Building OpenAPIs" class="md-header-nav__button md-logo">
          
            <i class="md-icon md-icon--home"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Best Practices
                </span>
              
            
            API Implementation
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/kenjones-cisco/building-openapis" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      kenjones-cisco/building-openapis
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </div>
    Building OpenAPIs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/kenjones-cisco/building-openapis" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      kenjones-cisco/building-openapis
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/rest/" title="REST APIs" class="md-nav__link">
      REST APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/openapi/" title="OpenAPI" class="md-nav__link">
      OpenAPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/design/" title="API Design" class="md-nav__link">
      API Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/development/" title="API Development" class="md-nav__link">
      API Development
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Best Practices
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Best Practices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../design/" title="API Design" class="md-nav__link">
      API Design
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        API Implementation
      </label>
    
    <a href="./" title="API Implementation" class="md-nav__link md-nav__link--active">
      API Implementation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instrumentation" title="Instrumentation" class="md-nav__link">
    Instrumentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capture-metrics" title="Capture Metrics" class="md-nav__link">
    Capture Metrics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#health-checks" title="Health Checks" class="md-nav__link">
    Health Checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-alerting" title="Monitoring and Alerting" class="md-nav__link">
    Monitoring and Alerting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synthetic-transactions" title="Synthetic Transactions" class="md-nav__link">
    Synthetic Transactions
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Generating Server Stubs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Generating Server Stubs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/server_golang/" title="Golang API Server" class="md-nav__link">
      Golang API Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/server_java/" title="Java API Server" class="md-nav__link">
      Java API Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/server_python/" title="Python API Server" class="md-nav__link">
      Python API Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Generating Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Generating Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client_golang/" title="Golang API Client" class="md-nav__link">
      Golang API Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client_java/" title="Java API Client" class="md-nav__link">
      Java API Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client_python/" title="Python API Client" class="md-nav__link">
      Python API Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client_postman/" title="Postman API Client" class="md-nav__link">
      Postman API Client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/documentation/" title="Generating Documentation" class="md-nav__link">
      Generating Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/security/" title="API Security" class="md-nav__link">
      API Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/correlation_id/" title="Correlation Id" class="md-nav__link">
      Correlation Id
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instrumentation" title="Instrumentation" class="md-nav__link">
    Instrumentation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capture-metrics" title="Capture Metrics" class="md-nav__link">
    Capture Metrics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#health-checks" title="Health Checks" class="md-nav__link">
    Health Checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-alerting" title="Monitoring and Alerting" class="md-nav__link">
    Monitoring and Alerting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synthetic-transactions" title="Synthetic Transactions" class="md-nav__link">
    Synthetic Transactions
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="implementation-best-practices">Implementation Best Practices<a class="headerlink" href="#implementation-best-practices" title="Permanent link">&para;</a></h1>
<h3 id="instrumentation">Instrumentation<a class="headerlink" href="#instrumentation" title="Permanent link">&para;</a></h3>
<p>Instrument your server code, with the most important aspects being the capture of every request
and corresponding response. If you make calls to other services using their API then capture the
request and response those calls.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be sure to mask sensitive data elements. e.g. Credit Card numbers, passwords, etc.</p>
</div>
<p>As part of this instrumentation, at the start of each request generate a unique id to associate
with each log message related to that request. It is strongly recommended to include the same
unique id as part of the response back to the caller. If there is an error or other issue, then
the user can provide that id which can be used to find the logs associated with their specific
request for easier problem resolution. The unique id is also referred to as <a href="http://theburningmonk.com/2015/05/a-consistent-approach-to-track-correlation-ids-through-microservices/">CorrelationID</a> <i class="fa fa-external-link"></i>.</p>
<p>The logs should be published to a central logging service like ELK or Splunk.</p>
<h3 id="capture-metrics">Capture Metrics<a class="headerlink" href="#capture-metrics" title="Permanent link">&para;</a></h3>
<p>Capture metrics about request processing to help identify bottle necks, hot zones, and impacts
based on recent changes. First establish the types of metrics relevant for your application.
Most common is total time processing time for a request, request successful or failed and total
processing time for requests made to external services.</p>
<p>There are multiple different ways to capture the metrics. Publish using client (prometheus),
extract from logging service (elk) or use service like AppDynamics to name a few.</p>
<h3 id="health-checks">Health Checks<a class="headerlink" href="#health-checks" title="Permanent link">&para;</a></h3>
<p>Provide an API endpoint for health check (/health). The response should be a status 200 if healthy.
For degraded or unhealthy select the most appropriate based on your selected monitors (4xx or 5xx).
The implementation of your health check will vary based on what is relevant for you application.
It can be as simple as returning status 200 to indicate the server process is up and able to respond.
If you have dependency on external resources then checking if they are all fully operational
is recommended.</p>
<h3 id="monitoring-and-alerting">Monitoring and Alerting<a class="headerlink" href="#monitoring-and-alerting" title="Permanent link">&para;</a></h3>
<p>You should having monitoring and alerting of your logs (on error or N errors within X period of time, etc.),
on your metrics (response times greater than threshold), and on your health (on degraded or unhealthy
or no response within X period of time).</p>
<p>The notifications can be done in multiple different approaches, for example emails, text messages,
dashboard alerts, published events, and message on collaboration platform.</p>
<h3 id="synthetic-transactions">Synthetic Transactions<a class="headerlink" href="#synthetic-transactions" title="Permanent link">&para;</a></h3>
<p>Synthetic transactions are actions, run in real time, that are performed on monitored API endpoints.
You can use synthetic transactions to measure the performance of a monitored API endpoint.</p>
<p>Automated execution of 1 or more APIs that exercise the functionality of the APIs within the
production system at a set interval. Ideal for GET and for resources that have full CRUD support
(POST/GET/PUT/PATCH/DELETE).</p>
<p>These transactions serve the purpose to validate your APIs are functional. Continue to generate
metrics for your APIs on a reoccurring interval even if users / clients are not currently using a
specific API. Also the continued use of the APIs allows you to proactively identify outages,
performance degradation, and other possible issues as the Monitoring and Alerting will send
notifications when issues arise.</p>
<p>Similar to <a href="https://en.wikipedia.org/wiki/Synthetic_monitoring">Synthetic Monitoring</a> <i class="fa fa-external-link"></i> used on web based applications.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../design/" title="API Design" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                API Design
              </span>
            </div>
          </a>
        
        
          <a href="../../tutorials/setup/" title="Setup" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Setup
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>